#!/bin/sh

# Block commits containing "Co-Authored-By: Claude"
# Commit messages should be generated by aipr, not manually written with AI attribution

# Match only footer lines (start of line) - not mentions in commit body
if grep -qiE "^Co-Authored-By:.*Claude" "$1"; then
  echo ""
  echo "ERROR: Commit message contains 'Co-Authored-By: Claude'"
  echo ""
  echo "This project uses 'aipr' to generate commit messages."
  echo "Please use: git commit -m \"\$(aipr commit -s)\""
  echo ""
  exit 1
fi
